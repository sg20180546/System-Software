when does connection closed detect?

benchmarking

parser

sleeping instead of spinng loop